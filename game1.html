<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Wall</title>

<style>
  body{
    margin:0;
    background:#000;
    overflow:hidden;
    font-family:'Courier New', monospace;
  }

  /* INPUT AREA */
  #inputArea{
    position:fixed;
    top:25px;
    left:50%;
    transform:translateX(-50%);
    display:flex;
    align-items:center;
    gap:6px;
    z-index:5;
  }

  .charBox{
    width:38px;
    height:44px;
    background:transparent;
    border:2px solid #ff1a1a;
    color:#ff1a1a;
    font-size:1.8rem;
    text-align:center;
    outline:none;
    text-transform:lowercase;
    box-shadow:0 0 10px rgba(255,26,26,0.6);
  }

  .charBox:focus{
    box-shadow:0 0 20px rgba(255,26,26,1);
  }

  #ext{
    margin-left:8px;
    font-size:1.7rem;
    color:#ff1a1a;
    text-shadow:0 0 10px red;
  }

  /* ALL LETTERS – SAME LOOK */
  .letter{
    position:absolute;
    font-size:2.4rem;
    color:#ff1a1a;
    text-shadow:0 0 8px red, 0 0 15px darkred;
    opacity:0.55;
    user-select:none;
    pointer-events:none;
  }

  /* ALPHA – ONLY DIRECTION IS SPECIAL */
  .invert{
    animation: fallDown linear infinite;
  }

  /* DECOYS */
  .up{
    animation: floatUp linear infinite;
  }

  .leftRight{
    animation: floatLR linear infinite;
  }

  .rightLeft{
    animation: floatRL linear infinite;
  }

  @keyframes fallDown{
    from{ transform: translateY(-20vh); }
    to{ transform: translateY(120vh); }
  }

  @keyframes floatUp{
    from{ transform: translateY(20vh); }
    to{ transform: translateY(-120vh); }
  }

  @keyframes floatLR{
    from{ transform: translateX(-30vw); }
    to{ transform: translateX(130vw); }
  }

  @keyframes floatRL{
    from{ transform: translateX(130vw); }
    to{ transform: translateX(-30vw); }
  }

  #signal{
    position:fixed;
    bottom:15%;
    width:100%;
    text-align:center;
    font-size:2rem;
    letter-spacing:4px;
    color:#ff1a1a;
    text-shadow:0 0 12px red;
    opacity:0;
    transition: opacity 3s ease;
    z-index:4;
  }
</style>
</head>

<body>

<!-- INPUT BOXES -->
<div id="inputArea">
  <input class="charBox" maxlength="1">
  <input class="charBox" maxlength="1">
  <input class="charBox" maxlength="1">
  <input class="charBox" maxlength="1">
  <input class="charBox" maxlength="1">
  <span id="ext">.html</span>
</div>

<div id="signal"></div>

<script>
const map = "abcdefghijklmnopqrstuvwxyz";
const seq = [0,11,15,7,0]; // alpha

const msgCode = [
  19,7,8,18,26,8,18,26,19,7,4,26,20,15,18,8,3,4,26,3,14,22,13
];

function buildMessage(){
  let out="";
  msgCode.forEach(n=>{
    out += (n===26) ? " " : map[n];
  });
  document.getElementById("signal").innerText = out;
  document.getElementById("signal").style.opacity = 1;
}

const total = 45;
let used = 0;

for(let i=0;i<total;i++){
  const el = document.createElement("span");

  if(used < seq.length){
    // ALPHA → TOP → BOTTOM ONLY
    el.innerText = map[seq[used]];
    el.classList.add("letter","invert");
    el.style.left = (10 + Math.random()*80) + "vw";
    el.style.top = "-20vh";
    el.style.animationDuration = (26 + Math.random()*10) + "s";
    el.style.animationDelay = (used * 4) + "s";
    used++;
  } else {
    // DECOYS → 3 DIRECTIONS
    el.innerText = map[Math.floor(Math.random()*map.length)];
    el.classList.add("letter");

    const motion = Math.floor(Math.random()*3);

    if(motion === 0){
      el.classList.add("up");
      el.style.left = Math.random()*100 + "vw";
      el.style.top = (60 + Math.random()*40) + "vh";
    } 
    else if(motion === 1){
      el.classList.add("leftRight");
      el.style.top = Math.random()*100 + "vh";
      el.style.left = "-30vw";
    } 
    else {
      el.classList.add("rightLeft");
      el.style.top = Math.random()*100 + "vh";
      el.style.left = "130vw";
    }

    el.style.animationDuration = (18 + Math.random()*22) + "s";
  }

  el.style.fontSize = (1.8 + Math.random()*2) + "rem";
  document.body.appendChild(el);
}

setTimeout(buildMessage, 26000);

/* INPUT CHECK */
const boxes = document.querySelectorAll(".charBox");
boxes.forEach((box, idx)=>{
  box.addEventListener("input", ()=>{
    if(box.value && idx < boxes.length-1){
      boxes[idx+1].focus();
    }
    let guess="";
    boxes.forEach(b=>guess+=b.value.toLowerCase());
    if(guess === "alpha"){
      window.location.href = "game2.html";
    }
  });
});
</script>

</body>
</html>
